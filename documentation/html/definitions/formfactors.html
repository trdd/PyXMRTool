
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Formfactor and Susceptibility &#8212; PyXMRTool 0.9 documentation</title>
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Geometry / Coordinate System" href="coordinate_systems.html" />
    <link rel="prev" title="Terms and Definitions" href="../definitions.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="coordinate_systems.html" title="Geometry / Coordinate System"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../definitions.html" title="Terms and Definitions"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PyXMRTool 0.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../definitions.html" accesskey="U">Terms and Definitions</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../index.html">PyXMRTool’s documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hints.html">Hints</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../definitions.html">Terms and Definitions</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Formfactor and Susceptibility</a></li>
<li class="toctree-l2"><a class="reference internal" href="coordinate_systems.html">Geometry / Coordinate System</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../development.html">Developement</a></li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../definitions.html"
                        title="previous chapter">Terms and Definitions</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="coordinate_systems.html"
                        title="next chapter">Geometry / Coordinate System</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/definitions/formfactors.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="formfactor-and-susceptibility">
<h1>Formfactor and Susceptibility<a class="headerlink" href="#formfactor-and-susceptibility" title="Permalink to this headline">¶</a></h1>
<p>The simulation of reflectivities within PyXMRTool (based on Pythonreflectivity) relies on the energy-dependent susceptibities <img class="math" src="../_images/math/ca5acc8a99886bfdda90b734338afaff0db47fbc.png" alt="\chi(E)"/> of the layers. It is in general a 3 x 3 tensor and is related to the complex refractive index <img class="math" src="../_images/math/e11f2701c4a39c7fe543a6c4150b421d50f1c159.png" alt="n"/> and the dielectric tensor <img class="math" src="../_images/math/65d19c66c148d5016c6a89d26486bf6d1966ded1.png" alt="\epsilon"/>:</p>
<div class="math">
<p><img src="../_images/math/68f437709f0b1e4f9978e1c2f3d27de264346b4a.png" alt="\epsilon = \chi + 1 = n^2"/></p>
</div><p>In some cases the susceptibility <img class="math" src="../_images/math/ca5acc8a99886bfdda90b734338afaff0db47fbc.png" alt="\chi(E)"/> of one layer is calculated as a sum over the formfactors <img class="math" src="../_images/math/7c963645475d778928eeddbf4c0643a3eab1d864.png" alt="f_i(E)"/> of atoms contained in this layer.
In contrast to the susceptibility the formfactor is not an physical quantity and therefor different authors use different sign conventions.
Within PyXMRTool the following conventions are used:</p>
<p>The formfactor with real and imaginary part:</p>
<div class="math">
<p><img src="../_images/math/2e117e7dd3d85d2825ad3776895f27de9f98942d.png" alt="f=f^\prime + \mathrm(i) f^{\prime\prime}"/></p>
</div><p>Relation to the absorption cross section:</p>
<div class="math">
<p><img src="../_images/math/7db5dd5f7f635a1c87e58e1ac41e072d0bbda91f.png" alt="f^{\prime\prime}(E) = \frac{k}{4\pi}\sigma_{abs}(E)"/></p>
</div><p>with the vacuum wave vector <img class="math" src="../_images/math/0b7c1e16a3a8a849bb8ffdcdbf86f65fd1f30438.png" alt="k"/> of the incomming light. This means the imaginary part of the formfactor is always positiv. A resonance shows up as a “positiv peak”.</p>
<p>The real part is the Kramers-Kronig transformation of the imaginary part:</p>
<div class="math">
<p><img src="../_images/math/df223c86fddb153cbc3a80115b6a377f7dac23a4.png" alt="f^\prime(E)= - \frac{2}{\pi}\mathrm{CH}\int_0^\infty \frac{\eta \cdot f^{\prime\prime}(\eta)}{\eta^2-E^2} \, d\eta"/></p>
</div><p>This means that <img class="math" src="../_images/math/16175dcaa89bba20b83305dd0d7f8015aeb424a2.png" alt="f^\prime"/> is typically negative within the x-ray range. Only close to resonances it might be positiv. There it behaves similar to the derivative of <img class="math" src="../_images/math/4c989e41f24ac8239fea22010c08ebee95988622.png" alt="f^{\prime\prime}"/> (concerning the slopes).</p>
<p>With the above given definitions the susceptibility is:</p>
<div class="math">
<p><img src="../_images/math/c0ae990305b84030f32109fa20e36196a05860c9.png" alt="\chi(E) = \frac{4 \pi r_0}{k^2} \sum_j \rho_{at,j} f_j(E)"/></p>
</div><dl class="docutils">
<dt>with</dt><dd><ul class="simple">
<li><img class="math" src="../_images/math/8ccce0a986a24aae5cf32eb8d4111f6c209405fc.png" alt="r_0=2.8179403227 \cdot 10^{-15} \, \mathrm{m}"/> the classical electron radius</li>
<li><img class="math" src="../_images/math/858651bc0547f5bfa8594807d8a4ba3949d8ff0d.png" alt="k=\frac{E}{\hbar c}"/> the vacuum wave vector of the incomming light</li>
<li><img class="math" src="../_images/math/9c0a4348b8310cfa50ac75c9fa2482791adaf143.png" alt="\rho_{at,j}"/> the number density of atom species j</li>
<li><img class="math" src="../_images/math/3828ad01cb2647e8344e0bf26e0a6d4678848bd1.png" alt="f_j"/> the formfactor (tensor) of atom species j</li>
</ul>
</dd>
</dl>
<p><strong>BEWARE: The Chantler-Tables (https://dx.doi.org/10.18434/T4HS32) use a different sign convention. As long as you use the automatic lookup the conversion is done automatically by PyXMRTool. But as soon as you read formfactors from files or create formfactors in some other user-controlled way, you have to stick to the above mentioned sign conventions.</strong></p>
<p>This is how you have to transform them the formfactors from the Chantler tables to the ones used within PyXMRTool:</p>
<div class="math">
<p><img src="../_images/math/9ef60fc84ea6411891a56a9494cbc5b54266b318.png" alt="f^{\prime\prime}_{PyXMRTool} = f^{\prime\prime}_{Chantler}

f^{\prime}_{PyXMRTool} = - f^{\prime}_{Chantler}"/></p>
</div></div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="coordinate_systems.html" title="Geometry / Coordinate System"
             >next</a> |</li>
        <li class="right" >
          <a href="../definitions.html" title="Terms and Definitions"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PyXMRTool 0.9 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../definitions.html" >Terms and Definitions</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Yannic Utz.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.0.1.
    </div>
  </body>
</html>